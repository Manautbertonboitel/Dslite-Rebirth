[gd_scene load_steps=9 format=3 uid="uid://ce6xqcfyhxyut"]

[ext_resource type="Script" uid="uid://cnkp5d0n06omu" path="res://data/systems/angelic_combat_system/combat_manager.gd" id="1_pbkuh"]
[ext_resource type="PackedScene" uid="uid://ch2xa71k3v65b" path="res://data/systems/angelic_combat_system/UI/character_ui.tscn" id="4_ptoiq"]
[ext_resource type="Script" uid="uid://bnwj20lgxfhqw" path="res://data/systems/angelic_combat_system/UI/action_panel.gd" id="5_3c7v3"]
[ext_resource type="Script" uid="uid://dac6xgeuf84cj" path="res://data/systems/angelic_combat_system/UI/victory_panel.gd" id="5_kltxb"]
[ext_resource type="Script" uid="uid://dpmsmv0miv5nu" path="res://data/systems/angelic_combat_system/UI/target_panel.gd" id="6_etgvb"]
[ext_resource type="Script" uid="uid://dnudpbi6dhsfn" path="res://data/systems/angelic_combat_system/UI/defeat_panel.gd" id="6_pbkuh"]

[sub_resource type="PlaneMesh" id="PlaneMesh_dj5a4"]

[sub_resource type="BoxMesh" id="BoxMesh_dj5a4"]

[node name="CombatScene" type="Node3D"]

[node name="CombatManager" type="Node" parent="." node_paths=PackedStringArray("action_panel", "target_panel", "defeat_panel", "victory_panel", "heroes_ui_container", "enemies_ui_container", "models_container", "hero_pos_up", "hero_pos_right", "hero_pos_down", "hero_pos_left", "enemy_pos_up", "enemy_pos_right", "enemy_pos_down", "enemy_pos_left")]
script = ExtResource("1_pbkuh")
action_panel = NodePath("../ActionPanel")
target_panel = NodePath("../TargetPanel")
defeat_panel = NodePath("../DefeatPanel")
victory_panel = NodePath("../VictoryPanel")
heroes_ui_container = NodePath("../HeroesUI/VBoxContainer")
enemies_ui_container = NodePath("../EnemiesUI/VBoxContainer")
character_ui_prefab = ExtResource("4_ptoiq")
models_container = NodePath("../level/ModelsContainer")
hero_pos_up = NodePath("../level/ModelsContainer/HeroePosUp")
hero_pos_right = NodePath("../level/ModelsContainer/HeroePosRight")
hero_pos_down = NodePath("../level/ModelsContainer/HeroePosDown")
hero_pos_left = NodePath("../level/ModelsContainer/HeroePosLeft")
enemy_pos_up = NodePath("../level/ModelsContainer/EnemyPosUp")
enemy_pos_right = NodePath("../level/ModelsContainer/EnemyPosRight")
enemy_pos_down = NodePath("../level/ModelsContainer/EnemyPosDown")
enemy_pos_left = NodePath("../level/ModelsContainer/EnemyPosLeft")

[node name="ActionPanel" type="Control" parent="."]
visible = false
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("5_3c7v3")

[node name="VBoxContainer" type="VBoxContainer" parent="ActionPanel"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="TargetPanel" type="Control" parent="."]
visible = false
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("6_etgvb")

[node name="VBoxContainer" type="VBoxContainer" parent="TargetPanel"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="VictoryPanel" type="Control" parent="." node_paths=PackedStringArray("continue_button")]
visible = false
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("5_kltxb")
continue_button = NodePath("VBoxContainer/Button")

[node name="VBoxContainer" type="VBoxContainer" parent="VictoryPanel"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Button" type="Button" parent="VictoryPanel/VBoxContainer"]
layout_mode = 2
text = "Continue"

[node name="DefeatPanel" type="Control" parent="."]
visible = false
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("6_pbkuh")

[node name="VBoxContainer" type="VBoxContainer" parent="DefeatPanel"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="HeroesUI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = -20.0
offset_right = 40.0
offset_bottom = 20.0
grow_vertical = 2
script = ExtResource("5_3c7v3")
metadata/_edit_use_anchors_ = true

[node name="VBoxContainer" type="VBoxContainer" parent="HeroesUI"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = -20.0
offset_right = 562.0
offset_bottom = 65.0
grow_vertical = 2

[node name="EnemiesUI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -40.0
offset_right = 40.0
grow_vertical = 0
script = ExtResource("5_3c7v3")
metadata/_edit_use_anchors_ = true

[node name="VBoxContainer" type="VBoxContainer" parent="EnemiesUI"]
layout_mode = 0
offset_right = 551.0
offset_bottom = 40.0

[node name="level" type="Node3D" parent="."]

[node name="Ground" type="MeshInstance3D" parent="level"]
transform = Transform3D(10, 0, 0, 0, 1, 0, 0, 0, 10, 0, 0, 0)
mesh = SubResource("PlaneMesh_dj5a4")

[node name="ModelsContainer" type="Node3D" parent="level"]

[node name="HeroePosUp" type="Node3D" parent="level/ModelsContainer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="level/ModelsContainer/HeroePosUp"]
visible = false
mesh = SubResource("BoxMesh_dj5a4")

[node name="HeroePosRight" type="Node3D" parent="level/ModelsContainer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, 1)

[node name="MeshInstance3D" type="MeshInstance3D" parent="level/ModelsContainer/HeroePosRight"]
visible = false
mesh = SubResource("BoxMesh_dj5a4")

[node name="HeroePosDown" type="Node3D" parent="level/ModelsContainer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="level/ModelsContainer/HeroePosDown"]
visible = false
mesh = SubResource("BoxMesh_dj5a4")

[node name="HeroePosLeft" type="Node3D" parent="level/ModelsContainer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, -1)

[node name="MeshInstance3D" type="MeshInstance3D" parent="level/ModelsContainer/HeroePosLeft"]
visible = false
mesh = SubResource("BoxMesh_dj5a4")

[node name="EnemyPosUp" type="Node3D" parent="level/ModelsContainer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="level/ModelsContainer/EnemyPosUp"]
visible = false
mesh = SubResource("BoxMesh_dj5a4")

[node name="EnemyPosRight" type="Node3D" parent="level/ModelsContainer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 1)

[node name="MeshInstance3D" type="MeshInstance3D" parent="level/ModelsContainer/EnemyPosRight"]
visible = false
mesh = SubResource("BoxMesh_dj5a4")

[node name="EnemyPosDown" type="Node3D" parent="level/ModelsContainer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="level/ModelsContainer/EnemyPosDown"]
visible = false
mesh = SubResource("BoxMesh_dj5a4")

[node name="EnemyPosLeft" type="Node3D" parent="level/ModelsContainer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, -1)

[node name="MeshInstance3D" type="MeshInstance3D" parent="level/ModelsContainer/EnemyPosLeft"]
visible = false
mesh = SubResource("BoxMesh_dj5a4")

[node name="Enemy Team positions" type="Node3D" parent="level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 0)

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.8376886, 0.24330081, -0.48896065, 0, 0.8952894, 0.44548503, 0.5461481, -0.37317774, 0.7499738, -6.549292, 3.3323224, 8.154913)
fov = 47.5

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.98714745, 0, -0.15981227, 0.055857696, 0.93692863, 0.34502843, 0.14973271, -0.34952065, 0.9248867, 0, 0, 0)
light_color = Color(0.5708413, 0.40628642, 6.738305e-07, 1)
light_energy = 4.261
light_indirect_energy = 2.019
light_volumetric_fog_energy = 1.51
light_angular_distance = 2.86
light_specular = 2.834
shadow_enabled = true
